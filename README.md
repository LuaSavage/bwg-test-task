# Black Wall Group Test Task
![test workflow](https://github.com/LuaSavage/bwg-test-task/actions/workflows/go.yml/badge.svg)
[![Go Report Card](https://goreportcard.com/badge/github.com/LuaSavage/bwg-test-task)](https://goreportcard.com/report/github.com/LuaSavage/bwg-test-task)

## Description

Написать два сервиса "A" и "B".  
 Сервис "A" принимает по http запросы по переводу "средств", через kafka передаёт данные на сервис "B".  
В запросе передаётся сумма и id заявки, реализовать защиту - нельзя создавать две заявки с одинковым id у одного пользователя.  
 Сервис "B" валидирует запросы и убеждается в наличии баланса, если баланс есть, то создаём заявку в postgres (баланс пользователя уменьшается).  
 Спустя 30 секунд после записи заявки в базу случайно выбрать статус для этой заявки успех / не успех.  
При неуспехе средства возвращаются на баланс, в случае успеха баланс остаётся тем же.

Предусмотреть падения любого из сервисов, обеспечить консистентность данных
Желательно: Наличие unit-тестов Сервис "A" должен ограничивать количество запросов в секунду от каждого пользователя (10 запросов в секунду)
